<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="ben, smoilbig" />





  <link rel="alternate" href="/atom.xml" title="一纸墨迹" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="如若初遇，不如不遇">
<meta property="og:type" content="website">
<meta property="og:title" content="一纸墨迹">
<meta property="og:url" content="http://benvim.github.io/index.html">
<meta property="og:site_name" content="一纸墨迹">
<meta property="og:description" content="如若初遇，不如不遇">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一纸墨迹">
<meta name="twitter:description" content="如若初遇，不如不遇">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: "post",
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> 一纸墨迹 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-66613208-2', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?26def29a51a3037b921d17c2537e72b2";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  
  

  <div class="container one-collumn  
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">一纸墨迹</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Quick notes</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'wXeRGP2Vrze7R3LnHEp_','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/25/js-scroll-text/" itemprop="url">
                  JS 实现上下滚动文字
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-25T22:45:23+08:00" content="2016-03-25">
              2016-03-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/25/js-scroll-text/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/25/js-scroll-text/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/25/js-scroll-text/" class="leancloud_visitors" data-flag-title="JS 实现上下滚动文字">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>网站实现JS上下滚动文本。这种东西经常会要，所以写个小组件用用，轻量级的。js原生和jquery混搭实现，jquery实在太方便了。</p>
<h3 id="一、组件初始化"><a href="#一、组件初始化" class="headerlink" title="一、组件初始化"></a>一、组件初始化</h3><p>初始化组件的参数说明</p>
<pre><code>rollObj.init = function(_containerName, _showNum, _timeInterval, _listHeight, _animateSpeed);
</code></pre><ul>
<li>_containerName 容器的ID</li>
<li>_showNum 显示几行</li>
<li>_timeInterval 每次移动的触发时间（单位毫秒）</li>
<li>_listHeight 每li的高度，也可理解为每次移动的高度。</li>
<li>_animateSpeed 动画执行的速度</li>
</ul>
<h3 id="二、html的结构说明"><a href="#二、html的结构说明" class="headerlink" title="二、html的结构说明"></a>二、html的结构说明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;notice_task&quot;&gt;</span><br><span class="line">	&lt;ul class=&quot;notice_task_container&quot; id=&quot;notice_task_container_id&quot;&gt;</span><br><span class="line">		&lt;li&gt;&lt;a class=&quot;&quot; href=&quot;#&quot; title=&quot;&#123;$notic.title&#125;&quot; target=&quot;_blank&quot;&gt;&#123;$notic.title&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a class=&quot;&quot; href=&quot;#&quot; title=&quot;&#123;$notic.title&#125;&quot; target=&quot;_blank&quot;&gt;&#123;$notic.title&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">		&lt;li&gt;&lt;a class=&quot;&quot; href=&quot;#&quot; title=&quot;&#123;$notic.title&#125;&quot; target=&quot;_blank&quot;&gt;&#123;$notic.title&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p><em>notice_task</em> 为最外层容器，css样式要设置为 <em>position: relative;</em> 其子元素 <em>notice_task_container</em> 的css样式也要设置为 <em>position:relative;</em> 这样才可以控制 <em>notice_task_container_id</em>容器的top属性使其移动。</p>
<h3 id="三、JS代码使用"><a href="#三、JS代码使用" class="headerlink" title="三、JS代码使用"></a>三、JS代码使用</h3><p>使用也很简单，<em>rollTextControl.createObj();</em> 创建组件，初始化基本参数即可。使用 $(function(){} 包裹起来是保证页面加载完成后再调用该部分代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">	var notic = rollTextControl.createObj();</span><br><span class="line">   notic.init(&quot;notice_task_container_id&quot;, 3, 3000, -40, 1000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这样就可以了。</p>
<h3 id="四、组件源代码"><a href="#四、组件源代码" class="headerlink" title="四、组件源代码"></a>四、组件源代码</h3><p>有空再优化和整理，暂且这样吧。代码比较简，看看就明白了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">var rollTextControl = &#123;</span><br><span class="line">　　　　createObj: function()&#123;</span><br><span class="line">            var rollObj = &#123;&#125;;</span><br><span class="line">            var containerName = null; //列表的容器。用于删除，和创建子对象</span><br><span class="line">            var showNum = 1; //显示的数量</span><br><span class="line">            var timeInterval = 1000;//间隔1秒操作一次。</span><br><span class="line">            var rollData = null;//列表数据</span><br><span class="line">            var dataLen = 0;</span><br><span class="line">            var listHeight = -32;</span><br><span class="line">            var indexID = 0;</span><br><span class="line">            var animateSpeed = 1000;</span><br><span class="line"></span><br><span class="line">            rollObj.init = function(_containerName, _showNum, _timeInterval, _listHeight, _animateSpeed)&#123;</span><br><span class="line">                containerName   =  _containerName;</span><br><span class="line">                showNum         = _showNum;</span><br><span class="line">                timeInterval    = _timeInterval;</span><br><span class="line">                animateSpeed    = _animateSpeed;</span><br><span class="line">                listHeight      = _listHeight;</span><br><span class="line">                onGetData();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function onGetData()&#123;</span><br><span class="line">                var element = document.getElementById(containerName);</span><br><span class="line">                rollData = [];</span><br><span class="line">                if(element)&#123;</span><br><span class="line">                    while(element.hasChildNodes()) &#123;</span><br><span class="line">                        var obj = element.removeChild(element.firstChild).cloneNode(true);</span><br><span class="line">                        if(obj)&#123;</span><br><span class="line">                            var str = obj.tagName;</span><br><span class="line">                            if(str)str=str.toLocaleLowerCase();</span><br><span class="line">                            if(str==&quot;li&quot;) rollData.push(obj); </span><br><span class="line">                        &#125;   </span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                if(rollData!=null) startGo();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function startGo()&#123;</span><br><span class="line">                dataLen = rollData.length;</span><br><span class="line">                for (var i = 0; i &lt; showNum; i++) &#123;</span><br><span class="line">                    var data = rollData[i];</span><br><span class="line">                    if(data) createView(data);</span><br><span class="line">                &#125;</span><br><span class="line">                indexID = showNum-1;</span><br><span class="line">                if(dataLen&gt;showNum) timer();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function timer()&#123;</span><br><span class="line">                setInterval(rollUpdate, timeInterval);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function rollUpdate(argument) &#123;</span><br><span class="line">                getNextData();</span><br><span class="line">                var element = document.getElementById(containerName);</span><br><span class="line">                if(element.hasChildNodes())&#123;</span><br><span class="line">                    firstChild = element.firstChild;</span><br><span class="line">                    $(&quot;#&quot;+containerName).animate(&#123;&apos;top&apos;:listHeight&#125;, animateSpeed,animateComplete);    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function animateComplete()&#123;</span><br><span class="line">                //动画完成后，删除最顶上的内容，并重设置容器坐标。</span><br><span class="line">                var firstChild = null;</span><br><span class="line">                var element = document.getElementById(containerName);</span><br><span class="line">                if(element.hasChildNodes() &amp;&amp; element.children.length&gt;showNum)&#123;</span><br><span class="line">                    firstChild = element.firstChild;</span><br><span class="line">                    if(firstChild)</span><br><span class="line">                        element.removeChild(element.firstChild);    </span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    //console.log(&quot;faild&quot; + element.children.length);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                $(&quot;#&quot;+containerName).css(&#123;&apos;top&apos;:0&#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function createView(data)&#123;</span><br><span class="line">                $(&quot;#&quot;+containerName).append(data);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function getNextData()&#123;</span><br><span class="line">                if(indexID &lt; dataLen)&#123;</span><br><span class="line">                    indexID++;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    indexID = 0;</span><br><span class="line">                &#125;</span><br><span class="line">                var data  = rollData[indexID];</span><br><span class="line">                if(data) createView(data);</span><br><span class="line">            &#125;</span><br><span class="line">            return rollObj;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$(function()&#123;</span><br><span class="line">    var roll = rollTextControl.createObj();</span><br><span class="line">    roll.init(&quot;employListContainer&quot;, 6, 2000, -32, 1000);</span><br><span class="line"></span><br><span class="line">    var notic = rollTextControl.createObj();</span><br><span class="line">    notic.init(&quot;notice_task_container_id&quot;, 3, 3000, -40, 1000);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/23/js-call-apply-bind/" itemprop="url">
                  JS的call()方法、apply()与 bind()方法详解
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-23T14:34:22+08:00" content="2016-03-23">
              2016-03-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/23/js-call-apply-bind/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/23/js-call-apply-bind/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/23/js-call-apply-bind/" class="leancloud_visitors" data-flag-title="JS的call()方法、apply()与 bind()方法详解">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-call是函数的函数，用来改变函数作用域的。"><a href="#1-call是函数的函数，用来改变函数作用域的。" class="headerlink" title="1.call是函数的函数，用来改变函数作用域的。"></a>1.call是函数的函数，用来改变函数作用域的。</h3><p><img src="/uploads/110.jpg" alt="call是函数的函数"></p>
<p>通过fun()的方法调用，他的作用域是全局的，我可以通过call改变fun的作用域。让他的this对应到obj上，因为本身在fun()定义和外面的全局域里都没有定义变量 a 。是不是感觉像是给obj增加了fun()方法？其实不是的，obj还是没有fun这个方法，在调用fun的时候，把this变成了obj，所以那句<code>console.log(this.a)</code>你可以理解成<code>console.log(obj.a);</code>。 </p>
<h3 id="2-为什么要用call方法，或者说call方法的使用动机是什么？"><a href="#2-为什么要用call方法，或者说call方法的使用动机是什么？" class="headerlink" title="2.为什么要用call方法，或者说call方法的使用动机是什么？"></a>2.为什么要用call方法，或者说call方法的使用动机是什么？</h3><p><img src="/uploads/112.jpg" alt="call是函数的函数"></p>
<p>看上图的输出，这个就是它的用途了，方法的this对象是什么其实是看你有没有在对象上调用方法。如果在 <code>obj.fun()</code>上调用就是那个obj，如果把<code>obj.fun</code>赋值给一个变量，因为没有用。去调用，所以他的this指向了window，比如你把一个对象的fun作为回调传到另外一个方法里去，它的this对象就会丢失，变成了指向window的对象，就失去了原本回调的意义。 <strong>所以这个时候就需要把obj对象也一并传到另外一个方法里通过fun.call(obj)去调用，确保他的作用域还是那个obj</strong></p>
<h3 id="3-call和apply方法的区别"><a href="#3-call和apply方法的区别" class="headerlink" title="3.call和apply方法的区别"></a>3.call和apply方法的区别</h3><p>call和apply其实非常像，只是在传入 <strong>参数时有差别</strong>。</p>
<p><img src="/uploads/113.jpg" alt="call是函数的函数"></p>
<p>call是像我们常规调用参数那样，一个一个的传入进去，而apply就是把参数变成一个数组传进去，仅此而已。</p>
<h3 id="4-bind方法的区别"><a href="#4-bind方法的区别" class="headerlink" title="4.bind方法的区别"></a>4.bind方法的区别</h3><p><img src="/uploads/114.jpg" alt="call是函数的函数"></p>
<p>bind的区别是这样的，也可以改变作用域，但是他会返回一个新的函数，但是你也可以在bind的时候强制使用指定的参数，在调用的时候它就会用bind指定的那个参数了。如果你只是<code>fun.bind(this)</code>的话，那返回的那个newFun不管你怎么调用，它的作用域都是bind传进去的第一个参数，相当是干涉了参数的值，如果在bind不传入任何的参数，调用还是会用传入的参数。</p>
<p>参考文献:<a href="http://bonsaiden.github.io/JavaScript-Garden/zh/#object.prototype" target="_blank" rel="external">javascript高级特性</a> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="external">javascript新的版本</a> <a href="http://javascript.ruanyifeng.com/" target="_blank" rel="external">JavaScript 标准参考教程</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/22/php-cdn/" itemprop="url">
                  添加CND后的验证码错误问题及其解决方案
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-22T20:15:00+08:00" content="2016-03-22">
              2016-03-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/22/php-cdn/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/22/php-cdn/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/22/php-cdn/" class="leancloud_visitors" data-flag-title="添加CND后的验证码错误问题及其解决方案">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>网站为了提高各地的访问速度，都会使用CDN以增加缓存结点，来提高用户打开网站的速度，但是缓存节点会造成验证码偶然错误的情况。由于问题隐蔽性不容易被发现，在本地测试和未使用CDN的情况下是正常的。使用CDN后也不会立即出现，只是部分用户出现异常，所以很难发现。</p>
<h5 id="1-问题现像"><a href="#1-问题现像" class="headerlink" title="1.问题现像"></a>1.问题现像</h5><p>今天网站突然所有需要验证码的地方都提示验证码错误无法操作。开始以为是centos服务器的session不能写入了，查看了session目录，权限正常，能正常写入session。重启服务器，问题依然存在。</p>
<h5 id="2-排查问题"><a href="#2-排查问题" class="headerlink" title="2.排查问题"></a>2.排查问题</h5><p>发现每次验证码请求一次，在服务端的session却被写了2次或3次。修改session写入代码。<code>$_SERVER[&#39;HTTP_X_FORWARDED_FOR&#39;]</code> 获取用户的IP地址。</p>
<pre><code>session(&apos;captcha&apos;.$_SERVER[&apos;HTTP_X_RORWARDED_FOR&apos;], md5($code));
</code></pre><p>查看session文件写入内容如下：</p>
<pre><code>captcha122.228.74.137|s:32:&quot;d465f14a648b3d0a1faa6f447e526c60&quot;;captcha183.155.217.251|s:32:&quot;e069ea4c9c233d36ff9c7f329bc08ff1&quot;;
</code></pre><p>一次刷新请求，有多个IP请求并生成session，本地的ip:183.115.217.251.另外的IP则应该是CDN缓存服务器的IP地址。所以这是造成验证码不一致的根本原因。</p>
<h5 id="3-解决办法"><a href="#3-解决办法" class="headerlink" title="3.解决办法"></a>3.解决办法</h5><p>给验证码生成的部分写入session位置增加IP地址的has值。如下所示：</p>
<pre><code>session(&apos;captcha&apos;.md5($_SERVER[&apos;HTTP_X_FORWARDED_FOR&apos;]), md5($code));
</code></pre><p>验证部分，取出写入的session. 其中<code>getIPAderss()</code>方法是获取本地IP的方法，这样取出同一个验证码，保证服务端的session验证码记录和填写的验证码一致。</p>
<pre><code>if(session(&apos;captcha&apos;.md5(getIPAderss())) != md5($captcha)){
    ....
}
</code></pre><p>了解问题产生的根本原因后，解决办法还是比较容易的。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/21/method-learn/" itemprop="url">
                  如何更快的学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-21T09:20:23+08:00" content="2016-03-21">
              2016-03-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/method/" itemprop="url" rel="index">
                    <span itemprop="name">method</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/21/method-learn/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/21/method-learn/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/21/method-learn/" class="leancloud_visitors" data-flag-title="如何更快的学习">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="钻研（The-Drilldown-Method-使用你学得更快"><a href="#钻研（The-Drilldown-Method-使用你学得更快" class="headerlink" title="钻研（The Drilldown Method):使用你学得更快"></a>钻研（The Drilldown Method):使用你学得更快</h4><p>经年累月，我完善了一个方法，可以加速逐层增进理解的过程。这个方法至今已被我用于各科目的课题，包括数学、生物学、物理学、经济学与工程学。只需些许修改，它对掌握实用技能也效果很好，比如编程、设计或语言。这个方法的基本结构是：知识面、练习、自省。我将解释每个阶段，让你了解如何尽可能有效率地执行它们，同时给出详细的例子，展示我是怎么应用在实际课程的。</p>
<h4 id="第一阶段：-知识面覆盖"><a href="#第一阶段：-知识面覆盖" class="headerlink" title="第一阶段： 知识面覆盖"></a>第一阶段： 知识面覆盖</h4><p>你不可能组织一场进攻，如果你连一张地形图都没有。因此，深入研习的第一步，就是对你需要学习的内容有个大致印象。若在课堂上，这意味着你要看讲义或读课本；若是自学，你可能要多读几本同主题的书，相互考证。</p>
<p>学生们常犯的一个错误，就是认为这个阶段是最重要的。从很多方面来讲，这个阶段却是效率最低的，因为你每单位时间的投入只换来了最少量的知识回报。我常常加速完成这个阶段，很有好处，这样，我就可以投入更多时间到后面两个阶段。</p>
<p>如果你在看课程讲座的视频，最好是调到1.5x或2x倍速快进。这很容易做到，只要你下载好视频，然后使用播放器（如VLC）的“调速”功能。我用这法子两天内看完了一学期的课程视频。如果你在读一本书，我建议你不要花时间去高亮文本。这样只会让你的知识理解停留在低层次，而从长远来看，也使学习效率低下。更好的方法是，阅读时只偶尔做做笔记，或在读过每个主要章节后写一段落的总结。</p>
<p>这里有个<a href="http://www.scotthyoung.com/mit/machine-vision-notes.pdf" target="_blank" rel="external">例子</a>，是我上机器视觉这门课时的笔记。</p>
<h4 id="第二阶段：练习"><a href="#第二阶段：练习" class="headerlink" title="第二阶段：练习"></a>第二阶段：练习</h4><p>做练习题，能极大地促进你的知识理解。但是，如果你不小心，可能会落入两个效率陷阱：</p>
<ul>
<li>没有获得即时的反馈：研究表明，如果你想更好地学习，你需要即时的反馈。因此，做题时最好是答案在手，天下我有，每做完一题就对答案，自我审查。没有反馈或反馈迟来的练习，只会严重牵制学习效率；</li>
<li>题海战术：正如有人以为学习是始于教室终于教室，一些学生也认为大多数的知识理解产自练习题。是的，你总能通过题海战术最终搭起知识框架，但过程缓慢、效率低下。</li>
</ul>
<p>练习题，应该能凸显你需要建立更好直觉的知识领域。一些技巧，比如我将会谈到的费曼技巧（the Feynman technique），对此则相当有效。对于非技术类学科，它更多的是要求你掌握概念而不是解决问题，所以，你常常只需要完成最少量的习题。对这些科目，你最好花更多的时间在第三阶段，形成学科的洞察力。</p>
<h3 id="第三阶段：自省"><a href="#第三阶段：自省" class="headerlink" title="第三阶段：自省"></a>第三阶段：自省</h3><p>知识面覆盖，与做练习题，是为了让你知道你还有什么不懂。这并不像听上去那么容易，毕竟知之为知之，不知为不知，难矣。你以为你都懂了，其实不是，所以老犯错；或者，你对某综合性学科心里没底，但又看不确切还有哪里不懂。</p>
<p>接下来的技巧，我称之为“费曼技巧”，将帮助你查漏补缺，在求知路上走得更远。当你能准确识别出你不懂的知识点时，这个技巧助你填补知识的缺口，尤其是那些最难以填补的巨大缺口。这个技巧还能两用。即使你真的理解了某个想法，它也能让你关联更多的想法，于是，你可以继续钻研，深化理解。</p>
<h3 id="费曼技巧（The-Feynman-Technique）"><a href="#费曼技巧（The-Feynman-Technique）" class="headerlink" title="费曼技巧（The Feynman Technique）"></a>费曼技巧（The Feynman Technique）</h3><p>这个技巧的灵感，源于诺贝尔物理奖获得者，理查德·费曼（Richard Feynman）。在他的自传里，他提到曾纠结于某篇艰深的研究论文。他的办法是，仔细审阅这篇论文的辅助材料（supporting material），直到他掌握了相关的知识基础、足以理解其中的艰深想法为止。</p>
<p>费曼技巧，亦同此理。对付一个知识枝节繁杂如发丝、富有内涵的想法，应该分而化之，切成小知识块，再逐个对付，你最终能填补所有的知识缺口，否则，这些缺口将阻挠你理解这个想法。对此，<a href="https://www.youtube.com/watch?v=FrNqSLPaZLc&amp;feature=youtu.be&amp;t=1m17s" target="_blank" rel="external">请看这个简短的教程视频</a>。</p>
<h4 id="费曼技巧很简单："><a href="#费曼技巧很简单：" class="headerlink" title="费曼技巧很简单："></a>费曼技巧很简单：</h4><ul>
<li>拿张白纸；</li>
<li>在白纸顶部写上你想理解的某想法或某过程 </li>
<li>用你自己的话解释它，就像你在教给别人这个想法。</li>
</ul>
<p><em>最要紧的是，对一个想法分而化之，虽然可能重复解释某些已经弄懂的知识点。</em> 但你最终会到达一个临界点，无法再解释清楚。那里正是你需要填补的知识缺口。为了填补这个缺口，你可以查课本、问老师、或到互联网搜寻答案。通常来说，一旦你精准地定义了你的不解或误解，找到确切的答案则相对而言更轻松。</p>
<p>我已经使用过这个费曼技巧有数百次，确信它能应付各种各样的学习情境。然而，由于学习情境各有特点，它需要灵活变通，似乎显得难以入门，所以，我将尝试举些不同的例子。</p>
<h5 id="1-对付你完全摸不着头脑的概念"><a href="#1-对付你完全摸不着头脑的概念" class="headerlink" title="1.对付你完全摸不着头脑的概念"></a>1.对付你完全摸不着头脑的概念</h5><p>对此，我仍坚持使用费曼技巧，但翻开课本，找到解释这个概念的章节。我先浏览一遍作者的解释，然后仔细地摹仿它，并也试着用自己的思维详述和阐明它。如此一来，当你不能用自己的话写下任何解释时，“引导式”费曼技巧很有用处。这里有个<a href="http://www.scotthyoung.com/mit/photogrammetry.pdf" target="_blank" rel="external">例子</a>，展示我如何理解摄影测量学。</p>
<h5 id="2-对付各种过程"><a href="#2-对付各种过程" class="headerlink" title="2.对付各种过程"></a>2.对付各种过程</h5><p>你也能通过费曼技巧去了解一个你需要用到的过程。审视所有的步骤，不光解释每一步在干什么，还要清楚它是怎么执行的。我常这样理解数学的证明过程、化学的方程式、与生物学的糖酵解过程。这里有个<a href="http://www.scotthyoung.com/mit/grid-accel.pdf" target="_blank" rel="external">例子</a>，展示我如何想到怎么实现网格加速。</p>
<h5 id="3-对付各种公式"><a href="#3-对付各种公式" class="headerlink" title="3.对付各种公式"></a>3.对付各种公式</h5><p>公式，应该被理解，而不只是死记硬背。因此，当你看到一个公式，却无法理解它的运作机理时，试着用费曼技巧分而化之。这里有个<a href="http://www.scotthyoung.com/mit/fourier.pdf" target="_blank" rel="external">例子</a>，展示我如何理解傅里叶分析方程。</p>
<h5 id="4-对付需要记忆的内容"><a href="#4-对付需要记忆的内容" class="headerlink" title="4.对付需要记忆的内容"></a>4.对付需要记忆的内容</h5><p>费曼技巧，也可以帮你自查是否掌握非技术类学科那些博大精深的知识概念。对于某个主题，如果你能顺利应用费曼技巧，而无需参考原始材料（讲义、课本等），就证明你已经理解和记住它。。这里有个<a href="http://www.scotthyoung.com/mit/predatory-pricing.pdf" target="_blank" rel="external">例子</a>，展示我如何回忆起经济学中的掠夺性定价概念。</p>
<h4 id="形成更深刻的直觉（Deeper-Intuition）"><a href="#形成更深刻的直觉（Deeper-Intuition）" class="headerlink" title="形成更深刻的直觉（Deeper Intuition）"></a>形成更深刻的直觉（Deeper Intuition）</h4><p>结合做习题，费曼技巧能帮你剥开知识理解的浅层表皮。但它也能帮你钻研下去，走得更远，不只是浅层的理解，而是形成深刻的知识直觉。直观地理解一个想法，并非易事。它看似有些许神秘，但这不是它的本相。一个想法的多数直觉，可作以下归类。</p>
<h5 id="1-类比、可视化、简化"><a href="#1-类比、可视化、简化" class="headerlink" title="1.类比、可视化、简化"></a>1.类比、可视化、简化</h5><p>类比：你理解一个想法，是通过确认它与某个更易理解的想法之间的重要相似点；可视化：抽象概念也常成为有用的直觉，只要我们能在脑海为它们构筑画面，即使这个画面只是一个更大更多样化想法的不完全表达；简化：一位著名的科学家曾说过，如果你不能给你的祖母解释一样东西，说明你还没有完全理解它。简化是一门艺术，它加强了基础概念与复杂想法之间的思维联系。</p>
<p>你可以用费曼技巧去激发这些直觉。对于某个想法，一旦你有了大致的理解，下一步就是深入分析，看能不能用以上三种直觉来阐释它。期间，就算是借用已有的意象喻义，也是情有可原的。例如，把复数放到二维空间里理解，很难称得上是新颖的，但它能让你很好地可视化这个概念，让概念在脑海中构图成型。DNA复制，被想象成拉开一条单向拉链，这也不是一个完美的类比，但只要你心里清楚其中的异同，它会变得有用。</p>
<h5 id="2-学得更快的策略"><a href="#2-学得更快的策略" class="headerlink" title="2.学得更快的策略"></a>2.学得更快的策略</h5><p>在这篇文章里，我描述了学习的三个阶段：知识面、练习、与自省。但这可能让你误解，错以为它们总在不同的时期被各自执行，从不重叠或反复。实际上，随着不断地深入理解知识，你可能会周而复始地经历这些阶段。你刚开始读一个章节，只能有个大概的肤浅印象，但做过练习题和建立了直觉以后，你再回过来重新阅读，又会有更深刻的理解，即温故而知新。</p>
<h5 id="3-钻研吧，即便你不是学生"><a href="#3-钻研吧，即便你不是学生" class="headerlink" title="3.钻研吧，即便你不是学生"></a>3.钻研吧，即便你不是学生</h5><p>这个过程不只是适用于学生，也同样有助于学习复杂技能或积累某话题的专业知识。学习像编程或设计的技能，大多数人遵循前两个阶段。他们阅读一本相关的基础书籍，然后在一个项目里历练。然而，你能运用费曼技巧更进一步，更好地锁定与清晰表述你的深刻见解。积累某话题的专业知识，亦同此理；唯一的差别是，你在建立知识面以前，需要搜集一些学习材料，包括相关的研究文章、书籍等。无论如何，只要你弄清楚了想掌握的知识领域，你就钻研下去，深入学习它。</p>
<p><a href="http://calnewport.com/blog/2012/10/26/mastering-linear-algebra-in-10-days-astounding-experiments-in-ultra-learning/" target="_blank" rel="external">原文来自</a> <a href="http://calnewport.com/" target="_blank" rel="external">CAL NEWPORT</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/20/assembly/" itemprop="url">
                  MAC OS X系统下编写汇编 assembly language
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-20T20:44:53+08:00" content="2016-03-20">
              2016-03-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/assembly/" itemprop="url" rel="index">
                    <span itemprop="name">assembly</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/20/assembly/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/20/assembly/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/20/assembly/" class="leancloud_visitors" data-flag-title="MAC OS X系统下编写汇编 assembly language">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>汇编语言（assembly language)：介于机器语言与C语言之间的一种低级语言。书写风格分为windows/dos常用的intel风格和UNIX的AT&amp;T风格。</p>
<p>mac 下的汇编代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">_syscall:               # declaring a kernel call function </span><br><span class="line">    int      $0x80      # make the system call </span><br><span class="line">    ret                 # return to the caller  </span><br><span class="line">_print_info_s:          # entry point for linker </span><br><span class="line">    pushl    $len       # message length</span><br><span class="line">    pushl    $msg       # message to write</span><br><span class="line">    pushl    $0x1       # file descriptor value </span><br><span class="line">    movl     $0x4, %eax # system call number (sys_write) </span><br><span class="line">    call     _syscall   # call the kernel </span><br><span class="line">    addl     $12, %esp  # clean the stack</span><br><span class="line">    ret</span><br></pre></td></tr></table></figure>
<p>参数传递:linux主要是靠寄存器，而 BSD 主要靠堆栈。<br>在Xcode里如果需要使用 Intel 风格的代码，请将扩展名改成 .nasm，如果是 AT&amp;T ，那么.s 即可。要在 C 代码里调用汇编写的函数，请在汇编里用 global (.globl) 导出符号</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/19/fo/" itemprop="url">
                  冥冥天籁之音涤荡你我的心灵，红尘中还有谁能及？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-19T14:02:42+08:00" content="2016-03-19">
              2016-03-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/碎碎念/" itemprop="url" rel="index">
                    <span itemprop="name">碎碎念</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/19/fo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/19/fo/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/19/fo/" class="leancloud_visitors" data-flag-title="冥冥天籁之音涤荡你我的心灵，红尘中还有谁能及？">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　如若我是来还债的，<br>　　那就尽量多还一些，<br>　　宁人负我，我不负人。<br>　　如若我是来报恩的，<br>　　那就尽量多报一些，<br>　　今生为人实属不易，<br>　　我要把人性发挥到极致。<br>　　<br>　　每当遭遇困境、<br>　　面对挫折、<br>　　感觉不被理解、<br>　　内心不能够平静时，<br>　　告诉自己：<br>　　今生已经是最后一生，<br>　　我将永远告别这个<br>　　娑婆世界，<br>　　没有什么值得长久计较。<br>　　虽一时之间<br>　　偶尔会有抵触与抱怨，<br>　　但我会很快<br>　　提醒自己保持正念觉知。<br>　　<br>　　人生再长，<br>　　不过百年，<br>　　这一生的岁月<br>　　只是我在这个空间的<br>　　一场梦幻。<br>　　不论如何活着，<br>　　快乐着或是痛苦着，<br>　　其实都是最有意义的一生，<br>　　值得自豪的一生，<br>　　值得珍惜的一生。<br>　　<br>　　今生。<br>　　将是我在娑婆世界的<br>　　最后一生，<br>　　这真是一件天大喜事。<br>　　当慧命在红尘历尽<br>　　劫难之后，<br>　　我终于可以回归<br>　　万有的源头。<br>　　那么，<br>　　还有什么值得抱怨、<br>　　唠叨、遗憾、<br>　　痛悔、嗔恨的呢？<br>　　<br>　　如果还有，<br>　　就是忘记了<br>　　“最后”这两个字，<br>　　或者是对“最后”<br>　　这两个字认识不够、<br>　　信心不够。<br>　　时时牢记着：<br>　　今生，<br>　　是我在红尘的最后一生！<br>　　再来时，我必脚踏莲花，<br>　　乘愿而来。来时凡夫，<br>　　回时必己超凡入圣！<br>　　人身难得今已得，<br>　　佛法难闻今已闻，<br>　　今生不借此身渡，<br>　　更待何生渡此身</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/12/shell-Oprate/" itemprop="url">
                  shell命令的操作及命令的搜索
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-12T08:50:07+08:00" content="2016-03-12">
              2016-03-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/shell/" itemprop="url" rel="index">
                    <span itemprop="name">shell</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/12/shell-Oprate/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/12/shell-Oprate/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/12/shell-Oprate/" class="leancloud_visitors" data-flag-title="shell命令的操作及命令的搜索">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>经常会使用shell对文件进行一些操作。但是命令行的操作不熟悉也是特别影响效率的，如何快速度的返回上一次目录，如何编辑当前命令行的内容对于提高效率是非常有帮助的。<br>你是否经常连续按“backSpace”键来删除当前的命令，是否为了返回上次目录而不断的“cd”,而又或者不断的按方向键去修改其中写错的某个单词…..这些土鳖的方向必须抛弃。</p>
<h3 id="回到上一次操作的目录"><a href="#回到上一次操作的目录" class="headerlink" title="回到上一次操作的目录"></a>回到上一次操作的目录</h3><pre><code>cd -
</code></pre><h3 id="历史命令快捷键"><a href="#历史命令快捷键" class="headerlink" title="历史命令快捷键"></a>历史命令快捷键</h3><pre><code>[Ctrl+r], [Ctrl+p], [Ctrl+n]
</code></pre><p>[Ctrl+r] 是搜索历史命令的，当使用这个组合键后，会出现个输入框，你每按一个字符都会自动从历史命令中匹配出相关结果，选择你要的按回车即可,该命令可以快速定位到你之前使用的任何命令，比如cd过哪个很长的目录。</p>
<p>[Ctrl+p]和[Ctrl+n]主要功能是翻阅历史命令，上一条和下一条。此命令一般在最近使用过的命令比较方便。</p>
<h3 id="命令行内快速操作键"><a href="#命令行内快速操作键" class="headerlink" title="命令行内快速操作键"></a>命令行内快速操作键</h3><ol>
<li><p>移动操作快捷键<br>Ctrl + f– 向右移动一个字符，当然多数人用→<br>Ctrl + b– 向左移动一个字符， 多数人用←<br>ESC + f– 向右移动一个单词，MAC下建议用ALT + →<br>ESC + b– 向左移动一个单词，MAC下建议用ALT + ←<br>Ctrl + a– 跳到行首<br>Ctrl + e– 跳到行尾</p>
</li>
<li><p>删除操作快捷键<br>Ctrl + d– 向右删除一个字符<br>Ctrl + h– 向左删除一个字符<br>Ctrl + u– 删除当前位置字符至行首（输入密码错误的时候多用下这个）<br>Ctrl + k– 删除当前位置字符至行尾<br>Ctrl + w– 删除从光标到当前单词开头</p>
</li>
<li><p>其他操作快捷键<br>Ctrl + y– 插入最近删除的单词<br>Ctrl + c– 终止操作<br>Ctrl + d– 当前操作转到后台<br>Ctrl + l– 清屏 （有时候为了好看）</p>
</li>
</ol>
<p>使用了这些快捷后，立马感觉神清气爽~。over.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/10/Human/" itemprop="url">
                  AlphaGo VS Human
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-10T08:19:34+08:00" content="2016-03-10">
              2016-03-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/闲聊/" itemprop="url" rel="index">
                    <span itemprop="name">闲聊</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/10/Human/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/10/Human/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/10/Human/" class="leancloud_visitors" data-flag-title="AlphaGo VS Human">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>3月9日可能会成为写入人类史册的一天，一场世界上最会下围棋的人与人工智能的超级对弈，被全人类通过网络直播共同围观。谷歌董事长斯密特说，“输赢都是人类的胜利”。他这么说是因为李世石要迎战的不单是个机器人，而是这个世界上最聪明的霸道总裁和科学狂人们。</p>
<p>AlphaGo机器人最厉害的地方，他不是一个机械的编码程序，他有一个“监督预判机制”，每走一步，他会考虑这种走法是不是更有前途，这是一种类似“想象力”的能力。这种思维模式，几乎和人类的直觉类似，使得他前所未有地更加像人类。</p>
<p><img src="uploads/12.jpg" alt="AlphaGo vs Human"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-picture " itemscope itemtype="http://schema.org/Article">

    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <a href="/2016/03/08/東京日和/"><div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column" style="width: 100%;"><img src="/uploads/p2260354451.jpg" alt="东京日和"></div></div><div class="group-picture-row"><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/uploads/p2260498779.jpg" alt="东京日和"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/uploads/p2260498780.jpg" alt="东京日和"></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img src="/uploads/p2322111491.jpg" alt="东京日和"></div></div></div></div>
</a>
          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/07/言轻语长/" itemprop="url">
                  言轻语长
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-03-07T20:53:50+08:00" content="2016-03-07">
              2016-03-07
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/07/言轻语长/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/07/言轻语长/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          

          
          
             <span id="/2016/03/07/言轻语长/" class="leancloud_visitors" data-flag-title="言轻语长">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>当意识再次醒来时，过去如同山崩之流，倾泻而来，将萌芽的光线拖入无尽的黑暗之中。挣脱之后，恍如昨日，一线之隔，南为乾坤，北为虚无。</p>
<p>一把岁月，无尽悲伤，聚散离合皆付风中。不曾相遇，何曾相识；不曾相识，何曾相知；未曾相知，遑论感伤。如若初遇，不如不遇。于世之最大谎言在于问心无愧。</p>
<p>风来雨去，日落月升，蓦然回首时物是人非。虚度彩练当空，徘徊庭树遍绿，长叹夕阳沉暮。不言问心无愧，只许一纸墨迹。</p>
<p>言轻轻待摆渡，语长长候倾听。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="Ben" />
          <p class="site-author-name" itemprop="name">Ben</p>
          <p class="site-description motion-element" itemprop="description">如若初遇，不如不遇</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/benvim" target="_blank">
                  
                    <i class="fa fa-globe"></i> github
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/smoilbig" target="_blank">
                  
                    <i class="fa fa-globe"></i> twitter
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1645535155" target="_blank">
                  
                    <i class="fa fa-globe"></i> weibo
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/ben-ben-5-46" target="_blank">
                  
                    <i class="fa fa-globe"></i> zhihu
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
            <p class="site-author-name">Links</p>
            
              <span class="links-of-author-item">
                <a href="http://mybruce.github.io/" target="_blank">bruce</a>
              </span>
            
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<div class="copyright" >
  
  &copy;  2013 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ben</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

<span id="busuanzi_container_site_uv">
  本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>


      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=0.5.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"benvim"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>

  
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("2gXt2y0sWniH8YsMN64aa0Kb-gzGzoHsz", "YIabhtVoaW6Q503QPxygRHrf");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>




  
  <!-- custom analytics part create by xiamo -->
<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("2gXt2y0sWniH8YsMN64aa0Kb-gzGzoHsz", "YIabhtVoaW6Q503QPxygRHrf");</script>
<script>
function showTime(Counter) {
    var query = new AV.Query(Counter);
    $(".leancloud_visitors").each(function() {
        var url = $(this).attr("id").trim();
        query.equalTo("url", url);
        query.find({
            success: function(results) {
                if (results.length == 0) {
                    var content = $(document.getElementById(url)).text();
                    var arr = content.split(":");
                    content = arr[0]+ ":" + 0;
                    $(document.getElementById(url)).text(content);
                    return;
                }
                for (var i = 0; i < results.length; i++) {
                    var object = results[i];
                    var content = $(document.getElementById(url)).text();
                    var arr = content.split(":");
                    content = arr[0]+ ":" + object.get('time');
                    $(document.getElementById(url)).text(content);
                }
            },
            error: function(object, error) {
                console.log("Error: " + error.code + " " + error.message);
            }
        });

    });
}

function addCount(Counter) {
    var Counter = AV.Object.extend("Counter");
    url = $(".leancloud_visitors").attr('id').trim();
    title = $(".leancloud_visitors").attr('data-flag-title').trim();
    var query = new AV.Query(Counter);
    query.equalTo("url", url);
    query.find({
        success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment("time");
                counter.save(null, {
                    success: function(counter) {
                        var content = $(document.getElementById(url)).text();
                        var arr = content.split(":");
                        content = arr[0]+" : "+counter.get('time');
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
                var newcounter = new Counter();
                newcounter.set("title", title);
                newcounter.set("url", url);
                newcounter.set("time", 1);
                newcounter.save(null, {
                    success: function(newcounter) {
                        console.log("newcounter.get('time')="+newcounter.get('time'));
                        var content = $(document.getElementById(url)).text();
                        var arr = content.split(":");
                        content = arr[0]+" : "+newcounter.get('time');
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(newcounter, error) {
                        console.log('Failed to create');
                    }
                });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + " " + error.message);
        }
    });
}
$(function() {
    var Counter = AV.Object.extend("Counter");
    if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
    } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
    }
}); 
</script>
  
  
</body>
</html>
